<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Envío de Equipaje - Vista Voyages</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Estilos -->
    <link rel="stylesheet" href="CSS/variables.css">
    <link rel="stylesheet" href="CSS/style.css">
    <link rel="stylesheet" href="CSS/perfil.css">
</head>

<body class="perfil-body">

<div id="navTrigger"></div>

<nav id="mainNav" class="nav">
    <div class="nav__brand">
        <img src="imagenes/logosinfondo.png" class="nav__logo">
        <span class="nav__title">Vista Voyages</span>
    </div>
    <ul class="nav__links" data-nav="links"></ul>
</nav>

<!-- PROTECCIÓN DE ACCESO -->
<script>
    const usrEnv = JSON.parse(localStorage.getItem("usuario") || "null");
    if (!usrEnv) window.location.href = "LogIn.html";
</script>

<main class="perfil-container envio-container">

    <section class="perfil-header glass">
        <div>
            <h1>Envío de Equipaje</h1>
            <p>Registra una o varias maletas para enviarlas a tus direcciones registradas.</p>
        </div>
    </section>

    <section class="perfil-secciones">

        <!-- FORMULARIO DE ENVÍO -->
        <div class="perfil-card glass envio-card">
            <h2><i class="fa-solid fa-suitcase-rolling"></i> Datos del envío</h2>

            <form id="formEnvio">

                <label for="selectTamanoMaleta"><strong>Tamaño de la maleta</strong></label>
                <select id="selectTamanoMaleta" class="input-modal" required>
                    <option value="">Selecciona tamaño</option>
                    <option value="1">Pequeña (hasta 10kg)</option>
                    <option value="2">Mediana (hasta 20kg)</option>
                    <option value="3">Grande (hasta 30kg)</option>
                    <option value="4">XL (hasta 45kg)</option>
                </select>

                <label for="inputPesoMaleta"><strong>Peso de la maleta (kg)</strong></label>
                <input type="number" id="inputPesoMaleta" class="input-modal" step="0.1" min="1" value="10" required>

                <label for="selectDireccion"><strong>Dirección de entrega</strong></label>
                <select id="selectDireccion" class="input-modal" required>
                    <option value="">Cargando direcciones...</option>
                </select>

                <button type="submit" class="btn-azul mt-2">
                    <i class="fa-solid fa-plus"></i> Agregar envío
                </button>

                <p id="envioPrecioLabel" class="texto-muted" style="margin-top:1rem;"></p>
            </form>
        </div>

        <!-- INFO -->
        <div class="perfil-card glass">
            <h2><i class="fa-solid fa-info-circle"></i> Información</h2>
            <p>Cada vez que agregues un envío, se guardará temporalmente y se sumará a tu carrito.</p>
            <p>Puedes registrar varias maletas (con diferentes direcciones) y pagarlas todas juntas en el carrito.</p>
        </div>

    </section>
</main>

<!-- ICONOS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js" crossorigin="anonymous"></script>

<!-- SCRIPTS -->
<script src="JS/navbar.js"></script>
<script src="JS/envioEquipaje.js"></script>

</body>
</html>