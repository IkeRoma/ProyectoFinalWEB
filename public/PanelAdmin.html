<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel Administrador - Vista Voyages</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Estilos globales -->
    <link rel="stylesheet" href="CSS/variables.css">
    <link rel="stylesheet" href="CSS/style.css">

    <!-- Estilos del panel admin -->
    <link rel="stylesheet" href="CSS/admin.css">
    <link rel="stylesheet" href="CSS/wallet.css">

    <!-- Iconos -->
    <script src="https://kit.fontawesome.com/a2e0f1f6e9.js" crossorigin="anonymous"></script>
</head>
<body class="perfil-body admin-body">
<div id="navTrigger"></div>

<!-- NAVBAR -->
<nav id="mainNav" class="nav">
    <div class="nav__brand">
        <img src="imagenes/logosinfondo.png" class="nav__logo" alt="Vista Voyages">
        <span class="nav__title">Vista Voyages</span>
    </div>
    <ul class="nav__links" data-nav="links"></ul>
</nav>

<!-- PROTECCIÓN DE ACCESO -->
<script>
    const usr = JSON.parse(localStorage.getItem("usuario") || "null");
    if (!usr) window.location.href = "LogIn.html";
    if (usr && usr.Rol !== 1) {
        alert("Acceso restringido. Solo administradores.");
        window.location.href = "Index.html";
    }
</script>

<main class="admin-container">
    <!-- HEADER -->
    <section class="admin-header glass">
        <div>
            <h1>Panel de Administración</h1>
            <p>Bienvenido, <strong id="adminNombre"></strong></p>
        </div>
    </section>

    <section class="admin-grid">
        <!-- Usuarios -->
        <div class="admin-card glass">
            <div class="admin-card-header">
                <h2><i class="fa-solid fa-users"></i> Usuarios</h2>
                <div class="admin-filters">
                    <input type="number" id="filtroUsuarioId" placeholder="ID usuario">
                    <button class="btn-azul btn-azul--xs" id="btnFiltrarUsuarios">Filtrar</button>
                    <button class="btn-cerrar btn-cerrar--xs" id="btnVerTodosUsuarios">Ver todos</button>
                </div>
            </div>

            <table class="admin-table" id="tablaUsuarios">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Correo</th>
                        <th>Rol</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Wallet global -->
        <div class="admin-card glass">
            <div class="admin-card-header">
                <h2><i class="fa-solid fa-wallet"></i> Tarjetas (Wallet)</h2>
            </div>
            <table class="admin-table" id="tablaWallet">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Usuario</th>
                        <th>Tipo</th>
                        <th>BIN</th>
                        <th>Últimos 4</th>
                        <th>Expira</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Aeropuertos / Destinos -->
        <div class="admin-card glass">
            <div class="admin-card-header">
                <h2><i class="fa-solid fa-earth-americas"></i> Aeropuertos / Destinos</h2>
                <div class="admin-filters">
                    <input type="number" id="filtroAeropuertoId" placeholder="ID aeropuerto">
                    <button class="btn-azul btn-azul--xs" id="btnFiltrarAeropuertos">Filtrar</button>
                    <button class="btn-cerrar btn-cerrar--xs" id="btnVerTodosAeropuertos">Ver todos</button>
                </div>
            </div>

            <table class="admin-table" id="tablaAeropuertos">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Ciudad</th>
                        <th>Estado</th>
                        <th>Activo</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <form id="formAeropuerto" class="admin-form">
                <input type="hidden" id="aeropuertoId">
                <div>
                    <label>Nombre</label>
                    <input type="text" id="aeropuertoNombre" required>
                </div>
                <div>
                    <label>Ciudad</label>
                    <input type="text" id="aeropuertoCiudad" required>
                </div>
                <div>
                    <label>Estado</label>
                    <input type="text" id="aeropuertoEstado" required>
                </div>
                <button type="submit" class="btn-azul">Guardar aeropuerto</button>
            </form>
        </div>

        <!-- Vuelos -->
        <div class="admin-card glass">
            <div class="admin-card-header">
                <h2><i class="fa-solid fa-plane"></i> Vuelos</h2>
                <div class="admin-filters">
                    <input type="number" id="filtroVueloId" placeholder="ID vuelo">
                    <button class="btn-azul btn-azul--xs" id="btnFiltrarVuelos">Filtrar</button>
                    <button class="btn-cerrar btn-cerrar--xs" id="btnVerTodosVuelos">Ver todos</button>
                </div>
            </div>

            <table class="admin-table" id="tablaVuelos">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Origen</th>
                        <th>Destino</th>
                        <th>Salida</th>
                        <th>Llegada</th>
                        <th>Escala</th>
                        <th>Activo</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <form id="formVuelo" class="admin-form">
                <input type="hidden" id="vueloId">
                <div>
                    <label>ID origen (aeropuerto)</label>
                    <input type="number" id="vueloOrigen" required>
                </div>
                <div>
                    <label>ID destino (aeropuerto)</label>
                    <input type="number" id="vueloDestino" required>
                </div>
                <div>
                    <label>Fecha salida</label>
                    <input type="datetime-local" id="vueloFechaSalida" required>
                </div>
                <div>
                    <label>Fecha llegada</label>
                    <input type="datetime-local" id="vueloFechaLlegada" required>
                </div>
                <div>
                    <label>Escala</label>
                    <select id="vueloEscala">
                        <option value="DIRECTO">DIRECTO</option>
                        <option value="ESCALA">ESCALA</option>
                    </select>
                </div>
                <div>
                    <label>Núm. escalas</label>
                    <input type="number" id="vueloNumEscalas" min="0" value="0">
                </div>
                <button type="submit" class="btn-azul">Guardar vuelo</button>
            </form>
        </div>

        <!-- Asientos -->
        <div class="admin-card glass">
            <div class="admin-card-header">
                <h2><i class="fa-solid fa-chair"></i> Asientos</h2>
                <div class="admin-filters">
                    <input type="number" id="filtroAsientoId" placeholder="ID asiento">
                    <button class="btn-azul btn-azul--xs" id="btnFiltrarAsientos">Filtrar</button>
                    <button class="btn-cerrar btn-cerrar--xs" id="btnVerTodosAsientos">Ver todos</button>
                </div>
            </div>

            <table class="admin-table" id="tablaAsientos">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Vuelo</th>
                        <th>Tipo</th>
                        <th>Precio</th>
                        <th>Stock</th>
                        <th>Activo</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <form id="formAsiento" class="admin-form">
                <input type="hidden" id="asientoId">
                <div>
                    <label>ID vuelo</label>
                    <input type="number" id="asientoVuelo" required>
                </div>
                <div>
                    <label>Tipo</label>
                    <select id="asientoTipo">
                        <option value="BASICO">BASICO</option>
                        <option value="REGULAR">REGULAR</option>
                        <option value="PREMIUM">PREMIUM</option>
                    </select>
                </div>
                <div>
                    <label>Precio</label>
                    <input type="number" step="0.01" id="asientoPrecio" required>
                </div>
                <div>
                    <label>Stock</label>
                    <input type="number" id="asientoStock" min="0" required>
                </div>
                <button type="submit" class="btn-azul">Guardar asiento</button>
            </form>
        </div>

        <!-- Equipaje -->
        <div class="admin-card glass">
            <div class="admin-card-header">
                <h2><i class="fa-solid fa-suitcase-rolling"></i> Equipaje</h2>
                <div class="admin-filters">
                    <input type="number" id="filtroEquipajeId" placeholder="ID equipaje">
                    <button class="btn-azul btn-azul--xs" id="btnFiltrarEquipaje">Filtrar</button>
                    <button class="btn-cerrar btn-cerrar--xs" id="btnVerTodoEquipaje">Ver todos</button>
                </div>
            </div>

            <table class="admin-table" id="tablaEquipaje">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Vuelo</th>
                        <th>Tipo</th>
                        <th>Precio extra</th>
                        <th>Activo</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <form id="formEquipaje" class="admin-form">
                <input type="hidden" id="equipajeId">
                <div>
                    <label>ID vuelo</label>
                    <input type="number" id="equipajeVuelo" required>
                </div>
                <div>
                    <label>Tipo</label>
                    <select id="equipajeTipo">
                        <option value="C">C</option>
                        <option value="M">M</option>
                        <option value="G">G</option>
                        <option value="XL">XL</option>
                        <option value="XXL">XXL</option>
                    </select>
                </div>
                <div>
                    <label>Precio extra</label>
                    <input type="number" step="0.01" id="equipajePrecio" required>
                </div>
                <button type="submit" class="btn-azul">Guardar equipaje</button>
            </form>
        </div>
    </section>
</main>

<!-- Scripts -->
<script src="JS/navbar.js"></script>
<script src="JS/admin.js"></script>
<script src="JS/wallet.js"></script>
</body>
</html>